---
// JAVASCRIPT
// IF layouts/PostsLayout ✔️
import PostsLayout from "../../layouts/PostsLayout.astro";

export async function getStaticPaths() {
  let posts = await Astro.glob('../post/*.md')
  let tags = posts.map(post => post.frontmatter.tags.concat(post.frontmatter['hidden-tags'] || []))
    .flat()
    .filter((tag, i, arr) => arr.indexOf(tag) == i)
  const staticPaths = tags.map(tag => ({ params: { tag } }))
  return staticPaths
}

const tag = Astro.params.tag.toString()
---

<PostsLayout title={`${tag[0].toUpperCase() + tag.slice(1)} + Recipes`} tag={tag} />